"use strict";function lunbotu(i){this.shuju={iw:400,ih:300,time:2},Object.assign(this.shuju,i),this.str="",this.spanstr="",this.timer=null,this.timertow=null,this.now=0,this.jsq=0,this.iw=0,this.init()}lunbotu.prototype.init=function(){this.xuanran(),this.zidong(),this.daosuo(),this.dianji()},lunbotu.prototype.xuanran=function(){var t=this;$(this.shuju.name).width(this.shuju.iw),$(this.shuju.name).height(this.shuju.ih),this.shuju.imgdata.forEach(function(i,s){t.str+='<li><img src="'+i+'" alt=""></li>',t.spanstr+="<span>"+(s+1)+"</span>"}),$(this.shuju.name).find(".imglist ul").html(this.str),$(this.shuju.name).find(".light").html(this.spanstr),$(this.shuju.name).find(".light span").eq(0).addClass("active"),this.iw=$(this.shuju.name).find(".imglist ul li").outerWidth(),$(this.shuju.name).find(".imglist ul li:first").css("z-index",2),$(this.shuju.name).find(".imglist ul li").eq(1).css("z-index",1)},lunbotu.prototype.zidong=function(){var i=this;this.timer=setInterval(function(){i.tupian()},1e3*this.shuju.time)},lunbotu.prototype.tupian=function(){$(this.shuju.name).find(".imglist ul li").eq(this.now).animate({"z-index":3}),$(this.shuju.name).find(".imglist ul li").eq(this.now+1).animate({"z-index":2}),$(this.shuju.name).find(".imglist ul li").eq(this.now+1).css({display:"block"}),$(this.shuju.name).find(".imglist ul li").eq(this.now-1).animate({"z-index":0}),$(this.shuju.name).find(".imglist ul li").eq(this.now).fadeOut("slow"),this.now++,this.jsq++,this.jsq==$(this.shuju.name).find(".imglist ul li").size()-1&&($(this.shuju.name).find(".imglist ul li").eq(0).animate({"z-index":1}),$(this.shuju.name).find(".imglist ul li").eq(0).css({display:"block"})),this.now>$(this.shuju.name).find(".imglist ul li").size()-1&&(this.now=0,this.jsq=0,$(this.shuju.name).find(".imglist ul li").eq(0).css({display:"block"})),this.genshui()},lunbotu.prototype.genshui=function(){$(this.shuju.name).find(".light span").eq(this.now).addClass("active").siblings().removeClass("active")},lunbotu.prototype.daosuo=function(){var i=this;$(this.shuju.name).hover(function(){clearInterval(i.timer)},function(){i.zidong()})},lunbotu.prototype.dianji=function(){var s=this;$(this.shuju.name).on("click",".light span",function(){var i=$(this).index();s.now=i,s.jsq=i,$(s.shuju.name).find(".imglist ul li").css({display:"none"}),$(s.shuju.name).find(".imglist ul li").eq(i).css({display:"block"}),$(s.shuju.name).find(".light span").eq(s.now).addClass("active").siblings().removeClass("active")})};